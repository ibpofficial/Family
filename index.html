<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> IBP FAMILY TREE</title>
    <link rel="website icon" type="png" href="aa.jfif">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap');
        
        :root {
    --primary-color: #091b2c;         /* Deep blue */
    --secondary-color: #e74c3c;      /* Vibrant red */
    --accent-color: #f39c12;         /* Warm orange */
    --text-color: #03192e;           /* Dark blue-gray for text */
    --light-bg: #ecf0f1;             /* Very light gray */
    --dark-bg: #0b172c;              /* Deep navy */
    --card-shadow: 0 10px 20px rgba(14, 3, 24, 0.938);
    --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    --bloom-effect: radial-gradient(circle at center, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
    
    /* New complementary colors */
    --success-color: #27ae60;        /* Green */
    --warning-color: #f1c40f;        /* Yellow */
    --info-color: #3498db;           /* Blue */
    --light-text: #7712a7;           /* For text on dark backgrounds */
    --highlight-color: #9b59b6;      /* Purple for accents */
}
body {
    font-family: 'Poppins', sans-serif;
    background-color: var(--light-bg);
    color: var(--text-color);
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    background-image: url('https://www.transparenttextures.com/patterns/soft-paper.png');
}
        
.header {
    text-align: center;
    padding: 4rem 2rem;
    background: linear-gradient(135deg, var(--primary-color), var(--dark-bg));
    color: white;
    margin-bottom: 2rem;
    position: relative;
    overflow: hidden;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.76);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
}

@keyframes gradientBG {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--bloom-effect);
    z-index: 1;
    opacity: 0.5;
}
        .header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            margin: 0;
            font-weight: 700;
            position: relative;
            z-index: 2;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
            animation: fadeInDown 1s ease-out;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 1rem auto 0;
            position: relative;
            z-index: 2;
            animation: fadeIn 1.5s ease-out;
        }
        
        .tree-container {
            width: 100%;
            min-height: 70vh;
            position: relative;
            overflow: hidden;
            padding: 2rem 0;
            background-image: url('https://www.transparenttextures.com/patterns/soft-wallpaper.png');
        }
        
        .tree-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path d="M50 0 L60 40 L100 50 L60 60 L50 100 L40 60 L0 50 L40 40 Z" fill="%235d4e7b" opacity="0.05"/></svg>');
            background-size: 100px 100px;
            z-index: 0;
            opacity: 0.3;
        }
        
        .generation {
            display: flex;
            justify-content: center;
            gap: 2.5rem;
            flex-wrap: wrap;
            transition: var(--transition);
            padding: 2rem;
            position: relative;
            z-index: 2;
        }
        
        .couple-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        
        .couple-connector {
            width: 2px;
            height: 30px;
            background-color: var(--primary-color);
            opacity: 0.3;
        }
        
        .parents-container {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            width: 100%;
        }
        
        .parent-card {
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            width: 180px;
            padding: 1.5rem 1rem;
            text-align: center;
            transition: var(--transition);
            position: relative;
            z-index: 2;
            border: 2px solid var(--secondary-color);
        }
        
        .person-card {
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            width: 200px;
            padding: 1.8rem 1.2rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            z-index: 2;
            overflow: hidden;
            transform-style: preserve-3d;
            animation: floatIn 0.8s ease-out forwards;
            opacity: 0;
            border: 1px solid rgba(255,255,255,0.3);
        }
        
        .person-card::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border-radius: 20px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            z-index: -1;
            opacity: 0;
            transition: var(--transition);
        }
        
       .person-card:hover {
    transform: translateY(-10px) scale(1.05) rotateY(5deg);
    box-shadow: 0 20px 40px rgba(230, 126, 126, 0.15); /* Secondary color with opacity */
    background: linear-gradient(to bottom right, rgba(255,255,255,0.95), rgba(248, 216, 176, 0.15));
}
        
        .person-card:hover::before {
            opacity: 0.2;
        }
        
        .person-card.active {
            border: 3px solid var(--secondary-color);
        }
        
        .person-img-container {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 1.2rem;
            position: relative;
            overflow: hidden;
            border: 4px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: var(--transition);
        }
        
        .parent-img-container {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            position: relative;
            overflow: hidden;
            border: 4px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .person-card:hover .person-img-container {
            transform: scale(1.1);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .person-img, .parent-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }
        
        .person-card:hover .person-img {
            transform: scale(1.05);
        }
        
        .person-name, .parent-name {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
            font-size: 1.1rem;
            transition: var(--transition);
        }
        
        .person-card:hover .person-name {
            color: var(--secondary-color);
        }
        
        .person-relation, .parent-relation {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 0.5rem;
        }
        
        .has-children {
            font-size: 0.8rem;
            margin-top: 0.5rem;
            color: var(--secondary-color);
            font-weight: 600;
            opacity: 0;
            transition: var(--transition);
            transform: translateY(10px);
        }
        
        .person-card:hover .has-children {
            opacity: 1;
            transform: translateY(0);
        }
        
        .connector {
            position: absolute;
            height: 2px;
            background-color: var(--primary-color);
            z-index: 1;
            transform-origin: left center;
            opacity: 0.3;
        }
        
        .family-connector {
            position: relative;
            width: 100%;
            height: 40px;
            display: flex;
            justify-content: center;
            margin-bottom: 1rem;
        }
        
        .connector-line {
            height: 2px;
            width: 60%;
            background-color: var(--primary-color);
            position: relative;
            opacity: 0.5;
        }
        
        .connector-line::before {
            content: '';
            position: absolute;
            width: 2px;
            height: 20px;
            background-color: var(--primary-color);
            left: 50%;
            top: 0;
            transform: translateX(-50%);
        }
        
        .nav-buttons {
            text-align: center;
            margin: 2rem 0;
            position: relative;
            z-index: 3;
        }
        
        .nav-btn {
            background: linear-gradient(45deg, var(--primary-color), #140525);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            margin: 0 1rem;
            transition: var(--transition);
            font-size: 1rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            box-shadow: 0 5px 15px rgba(93, 78, 123, 0.3);
            position: relative;
            overflow: hidden;
            min-width: 120px;
        }
        
        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        
        .nav-btn:hover {
            background: linear-gradient(45deg, var(--secondary-color), #ff7e5f);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 154, 118, 0.4);
        }
        
        .nav-btn:hover::before {
            left: 100%;
        }
        
        .nav-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
            background: linear-gradient(45deg, #aaa, #ccc);
        }
        
        .memory-section {
            max-width: 800px;
            margin: 3rem auto;
            padding: 3rem;
            background: white;
            border-radius: 20px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.05);
            transform-style: preserve-3d;
        }
        
        .memory-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bloom-effect);
            z-index: -1;
        }
        
        .memory-section h2 {
            font-family: 'Playfair Display', serif;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            position: relative;
            display: inline-block;
        }
        
        .memory-section h2::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--secondary-color);
            border-radius: 3px;
        }
        
        #memoryContent {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #555;
            position: relative;
        }
        
        .floating-leaves {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .leaf {
            position: absolute;
            width: 25px;
            height: 25px;
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0.7;
            z-index: 1;
            animation: floatLeaf linear infinite;
        }
        
        @keyframes floatIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 0.9;
            }
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes floatLeaf {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }
            100% {
                transform: translate(calc(100vw + 100px), calc(100vh + 100px)) rotate(360deg);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }
        
        .pulse {
            animation: pulse 4s ease-in-out infinite;
        }
        
        @keyframes drawLine {
            0% {
                width: 0;
            }
            100% {
                width: 100%;
            }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .person-card {
                width: 160px;
                padding: 1.5rem 1rem;
            }
            
            .person-img-container {
                width: 100px;
                height: 100px;
            }
            
            .memory-section {
                padding: 2rem;
            }
            
            .parents-container {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
            }
            
            .couple-container {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .generation {
                gap: 1.5rem;
            }
            
            .person-card {
                width: 140px;
                padding: 1.2rem 0.8rem;
            }
            
            .nav-btn {
                padding: 0.8rem 1.2rem;
                margin: 0 0.5rem;
                min-width: 100px;
            }
        }
        @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-15px); }
      100% { transform: translateY(0px); }
    }
    
    @keyframes confetti {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }
    
    @keyframes heart {
      0% { transform: scale(1); opacity: 0; }
      50% { transform: scale(1.3); opacity: 1; }
      100% { transform: scale(1); opacity: 0; }
    }
    
    @keyframes zoomIn {
      0% { transform: scale(0); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
    
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: #f00;
      opacity: 0;
      z-index: 10;
    }
    
    .heart {
      position: absolute;
      color: red;
      font-size: 20px;
      opacity: 0;
      z-index: 10;
    }
    
    .cake {
      position: absolute;
      font-size: 24px;
      opacity: 0;
      z-index: 10;
    }
    
    .combined-image {
      width: 250px;
      height: 250px;
      object-fit: cover;
      border-radius: 50%;
      border: 3px solid #8b0000;
      animation: zoomIn 1s ease-out forwards, float 3s ease-in-out infinite 1s;
    }
    
    @media (max-width: 768px) {
      .anniversary-image-container img {
        width: 150px !important;
        height: 150px !important;
      }
      
      .combined-image {
        width: 200px !important;
        height: 200px !important;
      }
      
      .countdown-unit {
        min-width: 60px !important;
        padding: 8px !important;
      }
    }
    
    @media (max-width: 480px) {
      .anniversary-image-container img {
        width: 120px !important;
        height: 120px !important;
        margin-left: 10px !important;
      }
      
      .combined-image {
        width: 180px !important;
        height: 180px !important;
      }
      
      .countdown-unit {
        min-width: 50px !important;
        padding: 5px !important;
      }
    }
    
    /* Celebration mode when countdown completes */
    .celebration-mode {
      animation: celebrationPulse 1s infinite alternate;
    }
    
    @keyframes celebrationPulse {
      from { background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%); }
      to { background: linear-gradient(135deg, #ff0000 0%, #ffff00 50%, #00ff00 100%); }
    }
    @media (max-width: 480px) {
  #searchInput {
    font-size: 1rem !important;
  }
}
   /* Darshan Section Styles */
        .darshan-section {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: white;
            border-radius: 20px;
            box-shadow: var(--card-shadow);
            text-align: center;
            animation: zoomIn 0.8s ease-out;
        }

        .deity-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .deity-image {
            width: 250px;
            height: 250px;
            object-fit: cover;
            border-radius: 20px;
            border: 5px solid var(--primary-color);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            transition: var(--transition);
            margin: 1rem;
        }

        .deity-image:hover {
            transform: scale(1.05);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .deity-name {
            margin-top: 1rem;
            font-size: 1.2rem;
            color: var(--primary-color);
            font-weight: 600;
        }

        .gallery-btn {
            background: linear-gradient(45deg, var(--primary-color), #7a5c9e);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 1rem;
            transition: var(--transition);
            font-size: 1rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .gallery-btn:hover {
            background: linear-gradient(45deg, var(--secondary-color), #ff7e5f);
            transform: translateY(-3px);
            color: white;
        }

        @keyframes zoomIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
         /* Modern Navbar Styles */
    .secondary-nav {
        background: linear-gradient(135deg, var(--primary-color), #090d42);
        padding: 0.8rem 1rem;
        margin: 0 auto 2rem;
        max-width: 1000px;
        border-radius: 50px;
        box-shadow: 0 10px 30px rgba(9, 1, 26, 0.877);
        position: relative;
        overflow: hidden;
    }
    
    .secondary-nav::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(45deg, 
            rgba(3, 15, 39, 0.658) 0%, 
            rgba(91, 10, 116, 0.527) 50%, 
            rgba(24, 11, 44, 0.267) 100%);
        z-index: 1;
    }
    
    .nav-links {
        display: flex;
        justify-content: space-around;
        list-style: none;
        padding: 0;
        margin: 0;
        position: relative;
        z-index: 2;
    }
    
    .nav-link {
        position: relative;
        padding: 0.8rem 1.2rem;
        color: white;
        text-decoration: none;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        display: flex;
        flex-direction: column;
        align-items: center;
        border-radius: 30px;
    }
    
    .nav-link i {
        font-size: 1.4rem;
        margin-bottom: 0.3rem;
        transition: transform 0.3s ease;
    }
    
    .nav-link span {
        font-size: 0.9rem;
    }
    
    .nav-link:hover {
        background: rgba(204, 241, 238, 0.479);
        transform: translateY(-3px);
    }
    
    .nav-link:hover i {
        transform: scale(1.2);
    }
    
    .nav-link.active {
        background: var(--secondary-color);
        box-shadow: 0 5px 15px rgba(255, 154, 118, 0.4);
    }
    
    /* Mobile Styles */
    @media (max-width: 768px) {
        .secondary-nav {
            border-radius: 20px;
            padding: 0.5rem;
        }
        
        .nav-links {
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .nav-link {
            padding: 0.6rem 0.8rem;
            margin: 0.2rem;
            font-size: 0.9rem;
            flex: 1 0 40%;
            max-width: 45%;
            box-sizing: border-box;
            text-align: center;
        }
        
        .nav-link i {
            font-size: 1.2rem;
        }
    }
    
    @media (max-width: 480px) {
        .nav-link {
            flex: 1 0 100%;
            max-width: 100%;
            margin: 0.2rem 0;
            border-radius: 10px;
        }
    }
    
    /* Animation for active state */
    @keyframes pulse-glow {
        0% {
            box-shadow: 0 0 0 0 rgba(25, 1, 82, 0.795);
        }
        70% {
            box-shadow: 0 0 0 10px rgba(255, 154, 118, 0);
        }
        100% {
            box-shadow: 0 0 0 0 rgba(255, 154, 118, 0);
        }
    }
    
    .nav-link:active {
        animation: pulse-glow 0.5s;
        transform: scale(0.95);
    }
    
    /* Loading animation for pages */
    @keyframes pageLoad {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .page-content {
        animation: pageLoad 0.6s ease-out;
    }

































    /* Dipol Bar Styles */
.dipol-bar {
    background: linear-gradient(135deg, #210129, #182848);
    padding: 1rem;
    margin: 1rem auto;
    max-width: 800px;
    border-radius: 50px;
    box-shadow: 0 30px 90px rgb(12, 0, 0);
    display: flex;
    justify-content: space-around;
    position: relative;
    overflow: hidden;
    z-index: 2;
}

.dipol-bar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, 
        rgba(24, 1, 31, 0.774) 0%, 
        rgba(255,255,255,0.05) 50%, 
        rgba(2, 5, 49, 0.438) 100%);
    z-index: -1;
}

.dipol-btn {
    background: rgba(255,255,255,0.1);
    color: white;
    border: none;
    padding: 0.8rem 1.5rem;
    border-radius: 50px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    display: flex;
    align-items: center;
    gap: 0.5rem;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255,255,255,0.2);
}

.dipol-btn:hover {
    background: rgba(255, 255, 255, 0.445);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.dipol-btn::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255,255,255,0.4), 
        transparent);
    transition: 0.5s;
}

.dipol-btn:hover::after {
    left: 100%;
}

/* Animation for button click */
@keyframes dipolClick {
    0% { transform: scale(1); }
    50% { transform: scale(0.95); }
    100% { transform: scale(1); }
}

.dipol-btn:active {
    animation: dipolClick 0.3s ease;
}





































    </style>
</head>
<body>
    <div class="floating-leaves" id="floatingLeaves"></div>
    
    <div class="header pulse">
        <h1>IBP FAMILY TREE</h1>
        <p></p>
    </div>
    <!-- Add this HTML right after the header section -->
    <nav class="secondary-nav">
        <ul class="nav-links">
           <li>
    <a href="videos.html" class="nav-link" id="videosLink">
        <i class="fas fa-video"></i>
        <span>Videos</span>
    </a>
</li>

              <li>
    <a href="https://ibpofficial.github.io/audio" class="nav-link" id="videosLink">
        <i class="fas fa-music"></i>
        <span>Music</span>
    </a>
</li>
                    <li>
    <a href="about.html" class="nav-link" id="videosLink">
        <i class="fas fa-exclamation"></i>
        <span>About</span>
    </a>
</li>
             <li>
    <a href="https://ibpofficial.github.io/Family/notes.html" class="nav-link" id="videosLink">
        <i class="fas fa-sticky-note"></i>
        <span>Notes</span>
    </a>
</li>
        </ul>
    </nav>
    <div style="display: flex; justify-content: center; padding: 1rem;">
        <div style="display: flex; width: 100%; max-width: 500px; padding: 0 1rem; gap: 0.5rem;">
          <input 
            type="text" 
            id="searchInput" 
            placeholder="Search family member..." 
            style="flex: 1; padding: 0.9rem 1.2rem; border-radius: 50px; border: 2px solid #7a5c9e; font-size: 1rem; box-shadow: 0 4px 12px rgba(0,0,0,0.1); outline: none;"
          />
          <button 
            onclick="handleSearch()" 
            style="flex-shrink: 0; padding: 0 1rem; background: #7a5c9e; color: white; border: none; border-radius: 50px; font-size: 1.2rem; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.2);"
          >
            🔍
          </button>
        </div>
      </div>
      <p id="searchSuggestion" style="text-align:center; color: red; font-style: italic; margin-top: -0.5rem;"></p>
      
    
    <div class="nav-buttons">
        <button class="nav-btn" id="backBtn" disabled>← Back</button>
        <button class="nav-btn" id="homeBtn">🏡 Home</button>
          <button class="nav-btn" id="darshanBtn">🛕 Darshan</button>
        
    </div>
    <div id="birthdayBanner" style="display: none; max-width: 600px; margin: 2rem auto; padding: 1.5rem; background: #fff6e6; border: 2px dashed var(--secondary-color); border-radius: 16px; box-shadow: var(--card-shadow); text-align: center;">
        <h3 style="color: var(--primary-color); margin-bottom: 0.5rem;">🎉 Happy Birthday!</h3>
        <p id="birthdayNames" style="font-size: 1.2rem; color: #333;"></p>
      </div>
    
    <div class="tree-container">
        <div class="tree-background"></div>
        <div id="treeContainer">
            <!-- Generations will be dynamically inserted here -->
        </div>
    </div>
    <!-- Dipol Bar -->
<div class="dipol-bar">
    <button class="dipol-btn" onclick="navigateTo('https://ibpofficial.github.io/contact')">
        <i class="fas fa-phone"></i> Serch
    </button>
    <button class="dipol-btn" onclick="navigateTo('address.html')">
        <i class="fas fa-home"></i> Address
    </button>
    <button class="dipol-btn" onclick="navigateTo('more.html')">
        <i class="fas fa-info-circle"></i> More
    </button>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

</div>
<!-- Gallery Button Section -->


    <div style="text-align: center; margin: 3rem 0;">
        <button class="nav-btn" onclick="window.location.href='RAMVILAS.html'">RAMBILAS FAMILY</button>
        <button class="nav-btn" onclick="window.location.href='KAILASH.html'">KAILASH FAMILY </button>
        <button class="nav-btn" onclick="window.location.href='MAHESH.html'">MAHESH FAMILY</button>
        <button class="nav-btn" onclick="window.location.href='SHANKAR.html'">SHANKAR FAMILY</button>
        <!-- Add this as a new section in your HTML where you want it to appear -->
<section id="anniversary-section" style="background: linear-gradient(135deg, #1d5b96c9 0%, #fad0c4 100%); padding: 30px 0; margin: 40px 0; border-top: 3px solid #1c1272a8; border-bottom: 3px solid #8b0000;">
    <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
      <div class="anniversary-content" style="text-align: center; color: #060330; font-family: 'Arial', sans-serif;">
        <h2 style="font-size: clamp(24px, 4vw, 36px); margin-bottom: 15px; text-shadow: 1px 1px 2px rgba(255,255,255,0.7);">🎉 Bhawana & Prakash's 20th Anniversary 🎉</h2>
        <p style="font-size: clamp(16px, 2.5vw, 20px); margin-bottom: 20px;">Celebrating 20 wonderful years together on May 10th, 2025!</p>
        
        <div class="countdown-container" style="display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; margin: 20px 0;">
          <div class="countdown-unit" style="background-color: rgba(255,255,255,0.3); border-radius: 8px; padding: 10px; min-width: 70px;">
            <div class="countdown-number" id="days" style="font-weight: bold; font-size: clamp(24px, 5vw, 32px);">00</div>
            <div style="font-size: clamp(12px, 2vw, 14px);">Days</div>
          </div>
          <div class="countdown-unit" style="background-color: rgba(255,255,255,0.3); border-radius: 8px; padding: 10px; min-width: 70px;">
            <div class="countdown-number" id="hours" style="font-weight: bold; font-size: clamp(24px, 5vw, 32px);">00</div>
            <div style="font-size: clamp(12px, 2vw, 14px);">Hours</div>
          </div>
          <div class="countdown-unit" style="background-color: rgba(255,255,255,0.3); border-radius: 8px; padding: 10px; min-width: 70px;">
            <div class="countdown-number" id="minutes" style="font-weight: bold; font-size: clamp(24px, 5vw, 32px);">00</div>
            <div style="font-size: clamp(12px, 2vw, 14px);">Minutes</div>
          </div>
          <div class="countdown-unit" style="background-color: rgba(255,255,255,0.3); border-radius: 8px; padding: 10px; min-width: 70px;">
            <div class="countdown-number" id="seconds" style="font-weight: bold; font-size: clamp(24px, 5vw, 32px);">00</div>
            <div style="font-size: clamp(12px, 2vw, 14px);">Seconds</div>
          </div>
        </div>
        
        <div class="anniversary-image-container" style="position: relative; margin-top: 30px; display: flex; justify-content: center; align-items: center;">
          <img id="prakash-image" src="papa.jpeg" alt="Prakash" style="width: 200px; height: 200px; object-fit: cover; border-radius: 50%; border: 3px solid #8b0000; animation: float 3s ease-in-out infinite;">
          <img id="bhawana-image" src="teena.jpeg" alt="Bhawana" style="width: 200px; height: 200px; object-fit: cover; border-radius: 50%; border: 3px solid #8b0000; animation: float 3s ease-in-out infinite 1.5s; margin-left: 20px;">
        </div>
      </div>
    </div>
    </div>
    <audio id="bgMusic" loop>
        <source src="11.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>
    
    <div style="text-align: center; margin-top: 1rem;">
        <button class="nav-btn" onclick="toggleMusic()">🔊 Toggle Music</button>
    </div>
    
    
    <div class="memory-section">
        <h2>Family Memories</h2>
        <p id="memoryContent">Select a family member to view their precious memories...</p>
    </div>
<section id="guessGameSection" style="text-align:center; padding: 2rem; background: #fff5f0; margin: 2rem auto; border-radius: 16px; max-width: 600px; box-shadow: var(--card-shadow);">
  <h2 style="color: var(--primary-color); margin-bottom: 1rem;">🎯 Guess the Family Member!</h2>
  <img id="guessImage" src="who.png" alt="Guess Who?" style="width: 180px; height: 180px; border-radius: 50%; object-fit: cover; border: 4px solid var(--secondary-color); margin-bottom: 1rem;">
  <div id="guessOptions" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-top: 1rem;"></div>
  <p id="guessResult" style="margin-top: 1rem; font-weight: bold;"></p>
  <button onclick="startGuessGame()" class="nav-btn" style="margin-top: 1rem;">🔄 New Round</button>
</section>

    <script>
        // Enhanced family data with more details
        const familyData = {
            id: 'root',
            name: 'The Founding Generation',
            children: [
                {
                    id: 'brother1',
                    name: 'RAMVILAS UPADHYAY',
                    relation: 'Eldest Brother',
                    image: 'dada.jpeg',
                    spouse: {
                        name: 'SHANTI UPADHYAY',
                        relation: 'Wife',
                        image: 'dadi.jpeg'
                    },
                    children: [
                        {
                            id: 'brother1_child1',
                            name: 'RAJKUMAR UPADHYAY',
                            relation: 'Son',
                            image: 'rajkumar.jpeg',
                            spouse: {
                                name: 'RAJNI UPADHYAY',
                                relation: 'Wife',
                                image: 'aa.jfif'
                            },
                            children: [
                                {
                                    id: 'brother1_grandchild1',
                                    name: 'SHIVAM UPADHYAY',
                                    relation: 'Son',
                                    image: 'appu.jpeg',
                                    memory: "SHIVAM was born in 1998 ."
                                },
                                {
                                    id: 'brother1_grandchild2',
                                    name: 'SHIVNI UPADHYAY',
                                    relation: 'Daughter',
                                    image: 'mona.jpeg',
                                    memory: "Shivani was born in 2000 ."
                                }
                            ],
                            memory: "RAJKUMAR, the eldest son, has been the pillar of the family."
                        },
                        {
                            id: 'brother1_child2',
                            name: 'Ved prakash',
                            relation: 'Son',
                            image: 'vedprakash.jpeg',
                            spouse: {
                                name: 'kirti UPADHYAY',
                                relation: 'Wife',
                                image: 'aa.jfif'
                            },
                            children: [
                                {
                                    id: 'brother1_grandchild3',
                                    name: 'Harsh UPadhyay',
                                    relation: 'Son',
                                    image: 'harsh.jpeg',
                                    memory: "Harsh was born in 2000 "
                                },
                                {
                                    id: 'brother1_grandchild4',
                                    name: 'Harshita UPadhyay',
                                    relation: 'Daughter',
                                    image: 'harshi.jpeg',
                                    memory: "Harshita was born in 2010 "
                                }
                            ],
                            memory: "Ved prakash is a pwd officer ."
                        },
                        {
                            id: 'brother1_child2',
                            name: ' MR PRAKASH UPADHYAY',
                            relation: 'Son',
                            image: 'papa.jpeg',
                            spouse: {
                                name: 'Bhawana UPADHYAY',
                                relation: 'Wife',
                                image: 'teena.jpeg'
                            },
                            children: [
                                {
                                    id: 'brother1_grandchild3',
                                    name: 'MR ISHANT UPADHYAY ',
                                    relation: 'Son',
                                    image: 'ishu.png',
                                    memory: "Ishant upadhyay was born in 1006"
                                },
                                
                            ],
                            memory: "prakash is the father of owner of this website ."
                        },
                        {
                            id: 'brother1_child3',
                            name: 'Rajkumari awasthi',
                            relation: 'Daughter',
                            image: 'buha.jpeg',
                            spouse: {
                                name: 'GOVINFD  AWASTHI',
                                relation: 'Husband',
                                image: 'fufa.jpeg'
                            },
                            children: [
                                {
                                    id: 'brother1_grandchild5',
                                    name: 'Deepak awasthi',
                                    relation: 'Son',
                                    image: 'deepak1.jpeg',
                                    memory: "Deepak was born in 1996 and has brought immense joy to the family."
                                },
                                {
                                    id: 'brother1_grandchild6',
                                    name: 'divyanshu awasthi',
                                    relation: 'Son',
                                    image: 'raja2.jpeg',
                                    memory: "Divyanshu was born in 2000 and has brought immense joy to the family."
                                }
                            ],
                            memory: "Rajkumari married into the Awasthi family and maintains strong ties."
                        }
                    ],
                    memory: "RAMBILAS UPADHYAY, the eldest brother, laid the foundation for our family's success."
                },
                {
                    id: 'brother1',
                    name: 'Kailash UPADHYAY',
                    relation: '2nd  Brother',
                    image: 'kalash.jpeg',
                    spouse: {
                        name: 'Kamla UPADHYAY',
                        relation: 'Wife',
                        image: 'kalashwife.jpeg'
                    },
                    children: [
                        {
                            id: 'brother1_child1',
                            name: 'Madan UPADHYAY',
                            relation: 'Son',
                            image: 'madan.jpeg',
                            spouse: {
                                name: 'LAKSHMI UPADHYAY',
                                relation: 'Wife',
                                image: 'madanwife.jpeg'
                            },
                            children: [
                                {
                                    id: 'brother1_grandchild1',
                                    name: 'KANHA UPADHYAY',
                                    relation: 'Son',
                                    image: 'kanha.jpeg',
                                    memory: "SHIVAM was born in ---- ."
                                },
                                {
                                    id: 'brother1_grandchild2',
                                    name: 'KHUSHI UPADHYAY',
                                    relation: 'Daughter',
                                    image: 'kanha2.jpeg',
                                    memory: "Shivani was born in ----."
                                }
                            ],
                            memory: "STILL TO UPDATE THE DATA ,NOT AVAILABLE IN THE DATA BASE ."
                        },
                        {
                            id: 'brother1_child2',
                            name: 'S.P UPADHYAY ',
                            relation: 'Son',
                            image: 'kallu.jpeg',
                            spouse: {
                                name: 'AARTI UPADHYAY',
                                relation: 'Wife',
                                image: 'aarti.jpeg'
                            },
                            children: [
                                {
                                    id: 'brother1_grandchild3',
                                    name: 'VEDANSHI UPADHYAY ',
                                    relation: 'Daughter',
                                    image: 'kalluson.jpeg',
                                    memory: "Harsh was born in ---- "
                                },
                                {
                                    id: 'brother1_grandchild4',
                                    name: 'NOT YET DECIDED ',
                                    relation: 'son newborn in 2025',
                                    image: 'aa.jfif',
                                    memory: "Harshita was born in 2025"
                                }
                            ],
                            memory: "S.P  ( surya prakash upadhyay )is a 3rd grade teacher ."
                        },
                        {
                            id: 'brother1_child3',
                            name: 'SUNITA SHARMA ',
                            relation: 'Daughter',
                            image: 'aa.jfif',
                            spouse: {
                                name: 'GIRRAJ SHARMA ',
                                relation: 'Husband',
                                image: 'aa.jfif'
                            },
                            children: [
                                {
                                    id: 'brother1_grandchild5',
                                    name: '',
                                    relation: 'Son',
                                    image: 'AA.JFIF',
                                    memory: ""
                                },
                                {
                                    id: 'brother1_grandchild6',
                                    name: '',
                                    relation: '',
                                    image: 'aa.jfif',
                                    memory: "."
                                }
                            ],
                            memory: "."
                        },
                        {
                            id: 'brother1_child3',
                            name: 'ANITA ',
                            relation: 'Daughter',
                            image: 'aa.jfif',
                            spouse: {
                                name: 'SUNIK SHARMA ',
                                relation: 'Husband',
                                image: 'aa.jfif'
                            },
                            children: [
                                {
                                    id: 'brother1_grandchild5',
                                    name: '',
                                    relation: '',
                                    image: 'aa.jfif',
                                    memory: ""
                                },
                                {
                                    id: 'brother1_grandchild6',
                                    name: '',
                                    relation: '',
                                    image: 'aa.jfif',
                                    memory: ""
                                }
                            ],
                            memory: "."
                        }
                    ],
                    memory: "RAMBILAS UPADHYAY, the eldest brother, laid the foundation for our family's success."
                },
                {
                    id: 'brother1',
                    name: 'MAHESH UPADHYAY',
                    relation: '3nd  Brother',
                    image: 'mahesha.jpeg',
                    spouse: {
                        name: 'MANJU UPADHYAY',
                        relation: 'Wife',
                        image: 'mahesh.png'
                    },
                    children: [
                        {
                            id: 'brother1_child1',
                            name: 'GOURAV UPADHYAY',
                            relation: ' elder Son',
                            image: 'gourav.jpeg',
                            spouse: {
                                name: 'SAKSHI UPADHYAY',
                                relation: 'Wife',
                                image: 'sakshi.jpeg'
                            },
                            children: [
                                {
                                    id: 'brother1_grandchild1',
                                    name: 'VANSH UPADHYAY',
                                    relation: 'Son',
                                    image: 'nannu.jpeg',
                                    memory: "."
                                },
                                
                            ],
                            memory: "The current data for this is not available or can not be read so please wait for the data to load or wait for the user to add the database."
                        },
                        {
                            id: 'brother1_child2',
                            name: 'SOURAV UPADHYAY ',
                            relation: 'Son',
                            image: 'aa.jfif',
                            spouse: {
                                name: 'SUMAN UPADHYAY',
                                relation: 'Wife',
                                image: 'suman.jpeg'
                            },
                            children: [
                                {
                                    id: 'brother1_grandchild3',
                                    name: 'BABU UPADHYAY ',
                                    relation: 'Danger son',
                                    image: 'babu.jpeg',
                                    memory: "Harsh was born in ---- "
                                },
                                {
                                    id: 'brother1_grandchild4',
                                    name: 'BABUS SISTER  ',
                                    relation: 'Daughter',
                                    image: 'babu2.jpeg',
                                    memory: ""
                                }
                            ],
                            memory: "SOURAV UPADHYAY LIVES IN LALSOT AND RUNS A SHOP NAME (CHAUPATI BAKERS )"
                        },
                        {
                            id: 'brother1_child3',
                            name: 'SURBHI SHARMA ',
                            relation: 'Daughter',
                            image: 'aa.jfif',
                            spouse: {
                                name: '---- SHARMA ',
                                relation: 'Husband',
                                image: 'aa.jfif'
                            },
                            children: [
                                {
                                    id: 'brother1_grandchild5',
                                    name: 'pari sharmaa',
                                    relation: 'Daughter',
                                    image: 'AA.JFIF',
                                    memory: ""
                                },
                                {
                                    id: 'brother1_grandchild6',
                                    name: 'chota pari ',
                                    relation: 'daughter',
                                    image: 'aa.jfif',
                                    memory: "."
                                }
                            ],
                            memory: ".sister of sourav and gourav upadhyay "
                        },
                        
                    ],
                    memory: "RAMBILAS UPADHYAY, the eldest brother, laid the foundation for our family's success."
                },
                
            ]
        };

        // DOM elements
        const treeContainer = document.getElementById('treeContainer');
        const backBtn = document.getElementById('backBtn');
        const homeBtn = document.getElementById('homeBtn');
        const memoryContent = document.getElementById('memoryContent');
        const floatingLeaves = document.getElementById('floatingLeaves');

        // Navigation history
        let history = [];
        let currentGeneration = familyData;

        // Create floating leaves
        function createLeaves() {
            const leafTypes = [
                '🍁', '🍂', '🍃', '🌿', '🍀'
            ];
            
            for (let i = 0; i < 15; i++) {
                const leaf = document.createElement('div');
                leaf.className = 'leaf';
                leaf.textContent = leafTypes[Math.floor(Math.random() * leafTypes.length)];
                leaf.style.left = `${Math.random() * 100}%`;
                leaf.style.top = `${Math.random() * 100}%`;
                leaf.style.fontSize = `${Math.random() * 20 + 15}px`;
                leaf.style.animationDuration = `${Math.random() * 30 + 30}s`;
                leaf.style.animationDelay = `${Math.random() * 10}s`;
                floatingLeaves.appendChild(leaf);
            }
        }

        function initTree() {
    createLeaves();
    
    // First show Lahari Lal by himself
    renderGeneration({
        id: 'lahari',
        name: 'SHRI SHRI NARYAN BORHA',
        relation: 'Family Elder',
        image: 'pardada.jpeg',
        memory: "",
        children: familyData.children
    });
    
    // After 3 seconds, automatically show his three sons
    setTimeout(() => {
        history.push(currentGeneration);
        backBtn.disabled = false;
        currentGeneration = {
            id: 'root',
            name: 'The Founding Generation',
            children: familyData.children
        };
        renderGeneration(currentGeneration);
    }, 100000000000000);
}
        // Find parent of a person in the family tree
        function findParent(personId, tree = familyData) {
            if (tree.children) {
                for (const child of tree.children) {
                    if (child.id === personId) {
                        return tree;
                    }
                    const foundParent = findParent(personId, child);
                    if (foundParent) return foundParent;
                }
            }
            return null;
        }

        // Find parent of a person in the family tree
        function findParent(personId, tree = familyData) {
            if (tree.children) {
                for (const child of tree.children) {
                    if (child.id === personId) {
                        return tree;
                    }
                    const foundParent = findParent(personId, child);
                    if (foundParent) return foundParent;
                }
            }
            return null;
        }

        // Render a generation with animation
        function renderGeneration(generationData) {
            treeContainer.innerHTML = '';
            
            // If we're showing someone's children, also show them and their spouse at the top
            if (generationData.id !== 'root' && generationData.id !== familyData.id) {
                const parentsDiv = document.createElement('div');
                parentsDiv.className = 'parents-container';
                
                // Create the person card with updated relation
                const personCard = document.createElement('div');
                personCard.className = 'parent-card';
                personCard.innerHTML = `
                    <div class="parent-img-container">
                        <img src="${generationData.image}" alt="${generationData.name}" class="parent-img">
                    </div>
                    <h3 class="parent-name">${generationData.name}</h3>
                    <p class="parent-relation">${generationData.spouse ? (generationData.spouse.relation === 'Wife' ? 'Husband' : 'Wife') : generationData.relation}</p>
                `;
                
                // Create spouse card if exists
                let spouseCard = null;
                if (generationData.spouse) {
                    spouseCard = document.createElement('div');
                    spouseCard.className = 'parent-card';
                    spouseCard.innerHTML = `
                        <div class="parent-img-container">
                            <img src="${generationData.spouse.image}" alt="${generationData.spouse.name}" class="parent-img">
                        </div>
                        <h3 class="parent-name">${generationData.spouse.name}</h3>
                        <p class="parent-relation">${generationData.spouse.relation}</p>
                    `;
                }
                
                // Add connector line
                const connectorDiv = document.createElement('div');
                connectorDiv.className = 'family-connector';
                connectorDiv.innerHTML = '<div class="connector-line"></div>';
                
                parentsDiv.appendChild(personCard);
                if (spouseCard) parentsDiv.appendChild(spouseCard);
                
                treeContainer.appendChild(parentsDiv);
                treeContainer.appendChild(connectorDiv);
                
                // Animate the connector line
                setTimeout(() => {
                    const line = document.querySelector('.connector-line');
                    line.style.animation = 'drawLine 1s ease-out forwards';
                }, 300);
            }
            
            const generationDiv = document.createElement('div');
            generationDiv.className = 'generation';
            
            if (generationData.children && generationData.children.length > 0) {
                generationData.children.forEach((person, index) => {
                    const personCard = createPersonCard(person, index);
                    generationDiv.appendChild(personCard);
                });
            } else {
                generationDiv.innerHTML = '<p style="text-align: center; color: var(--primary-color); font-size: 1.2rem;">No descendants to show — this branch awaits new leaves</p>';
            }
            
            treeContainer.appendChild(generationDiv);
            
            // Update memory section
            updateMemoryContent(generationData);
        }

        // Create a person card with animation delay
        function createPersonCard(person, index) {
            const card = document.createElement('div');
            card.className = 'person-card';
            card.dataset.id = person.id;
            card.style.animationDelay = `${index * 0.1}s`;
            
            card.innerHTML = `
                <div class="person-img-container">
                    <img src="${person.image}" alt="${person.name}" class="person-img">
                </div>
                <h3 class="person-name">${person.name}</h3>
                <p class="person-relation">${person.relation}</p>
                ${person.children && person.children.length > 0 ? '<div class="has-children">▼ Explore ▼</div>' : ''}
            `;
            
            card.addEventListener('click', () => {
                if (person.children && person.children.length > 0) {
                    // Add current generation to history before moving forward
                    history.push(currentGeneration);
                    backBtn.disabled = false;
                    
                    // Animate card click
                    anime({
                        targets: card,
                        scale: 0.9,
                        opacity: 0,
                        duration: 300,
                        easing: 'easeInQuad',
                        complete: () => {
                            // Set the clicked person's children as current generation
                            currentGeneration = {
                                id: person.id,
                                name: person.name,
                                relation: person.spouse ? (person.spouse.relation === 'Wife' ? 'Husband' : 'Wife') : person.relation,
                                image: person.image,
                                spouse: person.spouse,
                                memory: person.memory,
                                children: person.children
                            };
                            
                            renderGeneration(currentGeneration);
                        }
                    });
                } else {
                    // Gentle shake animation for cards with no children
                    anime({
                        targets: card,
                        translateX: [0, 10, -10, 0],
                        duration: 500,
                        easing: 'easeInOutQuad'
                    });
                }
            });
            
            return card;
        }

        // Update memory content with animation
        function updateMemoryContent(generationData) {
            const newContent = generationData.id !== 'root' 
                ? generationData.memory || "No memories added yet for this family member." 
                : "Select a family member to view their precious memories...";
            
            // Animate memory section update
            anime({
                targets: '#memoryContent',
                opacity: 0,
                duration: 300,
                easing: 'easeInQuad',
                complete: () => {
                    memoryContent.textContent = newContent;
                    anime({
                        targets: '#memoryContent',
                        opacity: 1,
                        duration: 600,
                        easing: 'easeOutQuad'
                    });
                }
            });
            
            // Pulse animation for memory section when content changes
            anime({
                targets: '.memory-section',
                scale: [1, 1.02, 1],
                duration: 800,
                easing: 'easeInOutQuad'
            });
        }

        // Back button functionality
        backBtn.addEventListener('click', () => {
            if (history.length > 0) {
                // Animate current view out
                anime({
                    targets: treeContainer.querySelector('.generation'),
                    opacity: 0,
                    translateY: 50,
                    duration: 500,
                    easing: 'easeInQuad',
                    complete: () => {
                        currentGeneration = history.pop();
                        renderGeneration(currentGeneration);
                        
                        if (history.length === 0) {
                            backBtn.disabled = true;
                        }
                    }
                });
            }
        });

        // Home button functionality
        homeBtn.addEventListener('click', () => {
            if (currentGeneration.id !== 'root') {
                // Animate current view out
                anime({
                    targets: treeContainer.querySelector('.generation'),
                    opacity: 0,
                    translateY: -50,
                    duration: 500,
                    easing: 'easeInQuad',
                    complete: () => {
                        history = [];
                        currentGeneration = familyData;
                        backBtn.disabled = true;
                        renderGeneration(currentGeneration);
                    }
                });
            }
        });

        // Initialize the tree when page loads
        window.addEventListener('DOMContentLoaded', initTree);



        
    </script>
    <script>
        // 🎂 Birthday List
        const birthdayList = [
            { name: "ISHANT UPADHYAY", date: "04-17" },
            { name: "Harshita UPADHYAY", date: "05-17" },
            { name: "RAJKUMAR UPADHYAY", date: "04-25" },
            { name: "RAJKUMAR UPADHYAY", date: "04-25" },
            { name: "RAJKUMAR UPADHYAY", date: "04-25" },
            { name: "RAJKUMAR UPADHYAY", date: "04-25" }
        ];
        
        // 🎉 Check and Display Birthday
        function checkTodayBirthdays() {
            const today = new Date();
            const mmdd = `${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
        
            const todayBirthdays = birthdayList.filter(b => b.date === mmdd);
        
            if (todayBirthdays.length > 0) {
                const names = todayBirthdays.map(b => `🎂 ${b.name}`).join('<br>');
                const banner = document.getElementById("birthdayBanner");
                const nameContainer = document.getElementById("birthdayNames");
        
                nameContainer.innerHTML = names;
                banner.style.display = "block";
        
                // WhatsApp message (optional)
                const message = `🎉 Today is the birthday of:\n${todayBirthdays.map(b => `🎂 ${b.name}`).join('\n')}`;
                const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
        
                launchConfetti(); // Launch confetti if birthday
            }
        }
        
        // Call this function when your page loads
        document.addEventListener("DOMContentLoaded", checkTodayBirthdays);
        </script>
        <script>function toggleMusic() {
            const music = document.getElementById("bgMusic");
            if (music.paused) {
                music.play();
            } else {
                music.pause();
            }
        }
        </script>
     <script>
        // Countdown timer set for May 10, 2025
        function updateCountdown() {
          const anniversaryDate = new Date('May 10, 2025 00:00:00').getTime();
          const now = new Date().getTime();
          const distance = anniversaryDate - now;
          
          // If countdown is finished
          if (distance < 0) {
            document.getElementById('anniversary-section').classList.add('celebration-mode');
            document.querySelector('h2').textContent = "🎉 Happy 20th Anniversary Bhawana & Prakash! 🎉";
            document.querySelector('.anniversary-content p').textContent = "Today marks 20 wonderful years together!";
            
            // Clear all countdown numbers
            document.getElementById('days').innerHTML = '00';
            document.getElementById('hours').innerHTML = '00';
            document.getElementById('minutes').innerHTML = '00';
            document.getElementById('seconds').innerHTML = '00';
            
            // Replace individual images with combined PB image
            const imageContainer = document.querySelector('.anniversary-image-container');
            imageContainer.innerHTML = ''; // Remove existing images
            
            // Create and add the combined PB image
            const combinedImage = document.createElement('img');
            combinedImage.src = 'both.jpeg'; // Update with your PB image path
            combinedImage.alt = 'Bhawana and Prakash';
            combinedImage.className = 'combined-image';
            imageContainer.appendChild(combinedImage);
            
            // Increase animation frequency
            clearInterval(animationInterval);
            animationInterval = setInterval(() => {
              createConfetti(imageContainer);
              createHeart(imageContainer);
              createCake(imageContainer);
            }, 100);
            
            return;
          }
          
          // Time calculations
          const days = Math.floor(distance / (1000 * 60 * 60 * 24));
          const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((distance % (1000 * 60)) / 1000);
          
          // Display results
          document.getElementById('days').innerHTML = days.toString().padStart(2, '0');
          document.getElementById('hours').innerHTML = hours.toString().padStart(2, '0');
          document.getElementById('minutes').innerHTML = minutes.toString().padStart(2, '0');
          document.getElementById('seconds').innerHTML = seconds.toString().padStart(2, '0');
        }
        
        // Animation variables
        let animationInterval;
        let container;
        
        // Animation effects
        document.addEventListener('DOMContentLoaded', function() {
          const prakashImage = document.getElementById('prakash-image');
          const bhawanaImage = document.getElementById('bhawana-image');
          container = document.querySelector('.anniversary-image-container');
          
          if (prakashImage && bhawanaImage) {
            // Create floating animations
            prakashImage.style.animation = 'float 3s ease-in-out infinite';
            bhawanaImage.style.animation = 'float 3s ease-in-out infinite 1.5s';
            
            // Create particles between the images
            animationInterval = setInterval(() => {
              createConfetti(container);
              createHeart(container);
              createCake(container);
            }, 300);
          }
          
          // Initialize countdown
          updateCountdown();
        });
        
        // Update countdown every second
        setInterval(updateCountdown, 1000);
        
        function createConfetti(parentElement) {
          const colors = ['#f00', '#0f0', '#00f', '#ff0', '#f0f', '#0ff'];
          const confetti = document.createElement('div');
          confetti.className = 'confetti';
          confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.left = Math.random() * 80 + 10 + '%';
          confetti.style.top = '50%';
          
          parentElement.appendChild(confetti);
          
          setTimeout(() => {
            confetti.style.animation = 'confetti 2s linear forwards';
          }, 10);
          
          setTimeout(() => {
            confetti.remove();
          }, 2100);
        }
        
        function createHeart(parentElement) {
          const heart = document.createElement('div');
          heart.className = 'heart';
          heart.innerHTML = '❤️';
          heart.style.left = Math.random() * 60 + 20 + '%';
          heart.style.top = '60%';
          
          parentElement.appendChild(heart);
          
          setTimeout(() => {
            heart.style.animation = 'heart 1.5s ease-out forwards';
          }, 10);
          
          setTimeout(() => {
            heart.remove();
          }, 1600);
        }
        
        function createCake(parentElement) {
          const emojis = ['🎂', '🍰', '🧁', '🎉', '🥂', '💐'];
          const cake = document.createElement('div');
          cake.className = 'cake';
          cake.textContent = emojis[Math.floor(Math.random() * emojis.length)];
          cake.style.left = Math.random() * 60 + 20 + '%';
          cake.style.top = '60%';
          cake.style.fontSize = (Math.random() * 20 + 16) + 'px';
          
          parentElement.appendChild(cake);
          
          setTimeout(() => {
            cake.style.animation = 'confetti 2s linear forwards';
          }, 10);
          
          setTimeout(() => {
            cake.remove();
          }, 2100);
        }
      </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
<script>
  // Flatten the family data for search
  const flatFamilyList = [];

  function flattenFamily(node) {
    flatFamilyList.push({
      id: node.id,
      name: node.name,
      relation: node.relation || '',
      spouse: node.spouse || null,
      children: node.children || [],
      memory: node.memory || '',
      image: node.image || ''
    });
    if (node.spouse) {
      flatFamilyList.push({
        id: node.id + '_spouse',
        name: node.spouse.name,
        relation: node.spouse.relation,
        spouse: node.name,
        children: node.children || [],
        memory: '',
        image: node.spouse.image
      });
    }
    if (node.children) {
      node.children.forEach(flattenFamily);
    }
  }
  flattenFamily(familyData);

  const fuse = new Fuse(flatFamilyList, {
    keys: ['name'],
    threshold: 0.4, // Adjust for fuzzy match
  });

  function handleSearch() {
    const query = document.getElementById('searchInput').value.trim();
    const results = fuse.search(query);
    const suggestionBox = document.getElementById('searchSuggestion');

    if (results.length === 0) {
      suggestionBox.textContent = "No match found. Please check spelling.";
      return;
    }

    suggestionBox.textContent = results.length > 0 && results[0].score > 0.2 
      ? `Did you mean: ${results[0].item.name}?`
      : "";

    const person = results[0].item;
    showPersonDetails(person);
  }

  function showPersonDetails(person) {
  const container = document.createElement('div');
  container.style.padding = '2rem';
  container.style.background = '#fff';
  container.style.borderRadius = '20px';
  container.style.margin = '2rem auto';
  container.style.maxWidth = '500px';
  container.style.boxShadow = 'var(--card-shadow)';
  container.style.textAlign = 'center';
  container.style.position = 'relative';

  container.innerHTML = `
    <button onclick="clearSearch()" 
      style="position: absolute; top: 10px; right: 10px; background: #ff5e5e; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; font-size: 1rem; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.3);">❌</button>
    <img src="${person.image}" alt="${person.name}" style="width:120px; height:120px; border-radius:50%; object-fit:cover; border:3px solid #5d4e7b;">
    <h2 style="color:#5d4e7b;">${person.name}</h2>
    <p><strong>रिश्ता:</strong> ${person.relation}</p>
    ${person.spouse ? `<p><strong>जीवनसाथी:</strong> ${person.spouse.name || person.spouse}</p>` : ''}
    ${person.children.length > 0 ? `<p><strong>Children:</strong> ${person.children.map(child => child.name).join(', ')}</p>` : ''}
    <p><strong>Memory:</strong> ${person.memory || 'No memory added.'}</p>
  `;

  treeContainer.innerHTML = '';
  treeContainer.appendChild(container);
  memoryContent.textContent = person.memory || 'No memory added.';
}
function clearSearch() {
  document.getElementById('searchInput').value = '';
  document.getElementById('searchSuggestion').textContent = '';
  currentGeneration = familyData;
  history = [];
  backBtn.disabled = true;
  renderGeneration(currentGeneration);
}

</script>
    <script>
function startGuessGame() {
  const candidates = flatFamilyList.filter(p => p.image && p.name && !p.name.includes('NOT YET'));
  const correct = candidates[Math.floor(Math.random() * candidates.length)];

  const options = new Set([correct.name]);
  while (options.size < 4) {
    const random = candidates[Math.floor(Math.random() * candidates.length)];
    options.add(random.name);
  }

  const shuffledOptions = Array.from(options).sort(() => Math.random() - 0.5);

  document.getElementById('guessImage').src = correct.image;
  document.getElementById('guessResult').textContent = '';
  
  const optionButtons = shuffledOptions.map(name => {
    return `<button onclick="checkGuess('${name}', '${correct.name}')" style="padding: 0.6rem 1.2rem; border-radius: 50px; border: none; background: #7a5c9e; color: white; cursor: pointer; font-weight: 600;">${name}</button>`;
  });

  document.getElementById('guessOptions').innerHTML = optionButtons.join('');
}

function checkGuess(selected, correct) {
  const result = document.getElementById('guessResult');
  if (selected === correct) {
    result.textContent = "✅ Correct! 🎉";
    result.style.color = 'green';
  } else {
    result.textContent = `❌ Oops! It was ${correct}`;
    result.style.color = 'red';
  }
}
</script>
     <script>
        // [All your existing JavaScript remains the same until the end of event listeners]

        // Add Darshan button to your DOM elements
        const darshanBtn = document.getElementById('darshanBtn');

        // Add this with your other event listeners
        darshanBtn.addEventListener('click', showDarshanSection);

        function showDarshanSection() {
            // Clear history since we're showing a special section
            history = [];
            backBtn.disabled = true;
            
            treeContainer.innerHTML = `
                <div class="darshan-section" id="darshanContent">
                    <h2 style="color: var(--primary-color); font-family: 'Playfair Display', serif;">
                        Our Family Deities
                    </h2>
                    <p style="color: #555; margin-bottom: 1rem;">
                        Seek blessings from our Kul Devta and Kul Devi
                    </p>
                    
                    <div class="deity-container">
                        <div>
                            <img src="balaji.jpeg" alt="Kul Devta" class="deity-image">
                            <div class="deity-name">Shri Balaji (Kul Devta)</div>
                        </div>
                        <div>
                            <img src="kuldevi.jpeg" alt="Kul Devi" class="deity-image">
                            <div class="deity-name">Kul Devi</div>
                        </div>
                    </div>
                    
                   
                </div>
            `;
            
            // Update memory section
            memoryContent.textContent = "Our family deities who protect and guide us through generations.";
            
           
            
            // Set currentGeneration to a special value to handle home button
            currentGeneration = { id: 'darshan', name: 'Darshan' };
        }

        // Update home button event listener to handle Darshan section
        homeBtn.addEventListener('click', () => {
            if (currentGeneration.id === 'darshan' || currentGeneration.id !== 'root') {
                // Animate current view out
                anime({
                    targets: treeContainer.querySelector('.darshan-section, .generation'),
                    opacity: 0,
                    translateY: -50,
                    duration: 500,
                    easing: 'easeInQuad',
                    complete: () => {
                        history = [];
                        currentGeneration = familyData;
                        backBtn.disabled = true;
                        renderGeneration(currentGeneration);
                    }
                });
            }
        });

        // [Rest of your existing JavaScript remains the same]
    </script>
<script>
    // Add active class to current page link
    document.addEventListener('DOMContentLoaded', function() {
        const currentPage = window.location.pathname.split('/').pop() || 'index.html';
        
        const links = {
            'videos.html': document.getElementById('videosLink'),
            'about.html': document.getElementById('aboutLink'),
            'audio.html': document.getElementById('audioLink'),
            'notes.html': document.getElementById('notesLink')
        };
        
        // Highlight current page in nav
        if (links[currentPage]) {
            links[currentPage].classList.add('active');
        }
        
        // Smooth page transitions
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                if (this.href && this.href !== window.location.href) {
                    e.preventDefault();
                    
                    // Add loading animation
                    document.body.style.opacity = '0.7';
                    document.body.style.transition = 'opacity 0.3s ease';
                    
                    setTimeout(() => {
                        window.location.href = this.href;
                    }, 300);
                }
            });
        });
    });
    // Navigation function for Dipol buttons
function navigateTo(page) {
    // Add click animation
    anime({
        targets: event.target,
        scale: [1, 0.9, 1],
        duration: 300,
        easing: 'easeInOutQuad'
    });
    
    // Page transition effect
    document.body.style.opacity = '0.7';
    document.body.style.transition = 'opacity 0.3s ease';
    
    setTimeout(() => {
        window.location.href = page;
    }, 300);
}
</script>


</body>
</html>
